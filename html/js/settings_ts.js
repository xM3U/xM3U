class SettingsCategory{constructor(){this.DocumentID="content_settings"}createCategoryHeadline(i){var n=document.createElement("H4");return n.innerHTML=i,n}createHR(){var i=document.createElement("HR");return i}createSettings(i){var n=document.createElement("TR"),r=new PopupContent,c=SERVER.settings[i];switch(i){case"update":var t=document.createElement("TD");t.innerHTML="{{.settings.update.title}}:";var a=document.createElement("TD"),e=r.createInput("text","update",c.toString());e.setAttribute("placeholder","{{.settings.update.placeholder}}"),e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break;case"backup.path":var t=document.createElement("TD");t.innerHTML="{{.settings.backupPath.title}}:";var a=document.createElement("TD"),e=r.createInput("text","backup.path",c);e.setAttribute("placeholder","{{.settings.backupPath.placeholder}}"),e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break;case"temp.path":var t=document.createElement("TD");t.innerHTML="{{.settings.tempPath.title}}:";var a=document.createElement("TD"),e=r.createInput("text","temp.path",c);e.setAttribute("placeholder","{{.settings.tmpPath.placeholder}}"),e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break;case"user.agent":var t=document.createElement("TD");t.innerHTML="{{.settings.userAgent.title}}:";var a=document.createElement("TD"),e=r.createInput("text","user.agent",c);e.setAttribute("placeholder","{{.settings.userAgent.placeholder}}"),e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break;case"buffer.timeout":var t=document.createElement("TD");t.innerHTML="{{.settings.bufferTimeout.title}}:";var a=document.createElement("TD"),e=r.createInput("text","buffer.timeout",c);e.setAttribute("placeholder","{{.settings.bufferTimeout.placeholder}}"),e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break;case"ffmpeg.path":var t=document.createElement("TD");t.innerHTML="{{.settings.ffmpegPath.title}}:";var a=document.createElement("TD"),e=r.createInput("text","ffmpeg.path",c);e.setAttribute("placeholder","{{.settings.ffmpegPath.placeholder}}"),e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break;case"ffmpeg.options":var t=document.createElement("TD");t.innerHTML="{{.settings.ffmpegOptions.title}}:";var a=document.createElement("TD"),e=r.createInput("text","ffmpeg.options",c);e.setAttribute("placeholder","{{.settings.ffmpegOptions.placeholder}}"),e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break;case"vlc.path":var t=document.createElement("TD");t.innerHTML="{{.settings.vlcPath.title}}:";var a=document.createElement("TD"),e=r.createInput("text","vlc.path",c);e.setAttribute("placeholder","{{.settings.vlcPath.placeholder}}"),e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break;case"vlc.options":var t=document.createElement("TD");t.innerHTML="{{.settings.vlcOptions.title}}:";var a=document.createElement("TD"),e=r.createInput("text","vlc.options",c);e.setAttribute("placeholder","{{.settings.vlcOptions.placeholder}}"),e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break;case"authentication.web":var t=document.createElement("TD");t.innerHTML="{{.settings.authenticationWEB.title}}:";var a=document.createElement("TD"),e=r.createCheckbox(i);e.checked=c,e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break;case"authentication.pms":var t=document.createElement("TD");t.innerHTML="{{.settings.authenticationPMS.title}}:";var a=document.createElement("TD"),e=r.createCheckbox(i);e.checked=c,e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break;case"authentication.m3u":var t=document.createElement("TD");t.innerHTML="{{.settings.authenticationM3U.title}}:";var a=document.createElement("TD"),e=r.createCheckbox(i);e.checked=c,e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break;case"authentication.xml":var t=document.createElement("TD");t.innerHTML="{{.settings.authenticationXML.title}}:";var a=document.createElement("TD"),e=r.createCheckbox(i);e.checked=c,e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break;case"authentication.api":var t=document.createElement("TD");t.innerHTML="{{.settings.authenticationAPI.title}}:";var a=document.createElement("TD"),e=r.createCheckbox(i);e.checked=c,e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break;case"files.update":var t=document.createElement("TD");t.innerHTML="{{.settings.filesUpdate.title}}:";var a=document.createElement("TD"),e=r.createCheckbox(i);e.checked=c,e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break;case"cache.images":var t=document.createElement("TD");t.innerHTML="{{.settings.cacheImages.title}}:";var a=document.createElement("TD"),e=r.createCheckbox(i);e.checked=c,e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break;case"xepg.replace.missing.images":var t=document.createElement("TD");t.innerHTML="{{.settings.replaceEmptyImages.title}}:";var a=document.createElement("TD"),e=r.createCheckbox(i);e.checked=c,e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break;case"xteveAutoUpdate":var t=document.createElement("TD");t.innerHTML="{{.settings.xteveAutoUpdate.title}}:";var a=document.createElement("TD"),e=r.createCheckbox(i);e.checked=c,e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break;case"api":var t=document.createElement("TD");t.innerHTML="{{.settings.api.title}}:";var a=document.createElement("TD"),e=r.createCheckbox(i);e.checked=c,e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break;case"tuner":var t=document.createElement("TD");t.innerHTML="{{.settings.tuner.title}}:";for(var a=document.createElement("TD"),d=new Array,l=new Array,p=1;p<=100;p++)d.push(p),l.push(p);var s=r.createSelect(d,l,c,i);s.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(s),n.appendChild(t),n.appendChild(a);break;case"epgSource":var t=document.createElement("TD");t.innerHTML="{{.settings.epgSource.title}}:";var a=document.createElement("TD"),d=["PMS","XEPG"],l=["PMS","XEPG"],s=r.createSelect(d,l,c,i);s.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(s),n.appendChild(t),n.appendChild(a);break;case"backup.keep":var t=document.createElement("TD");t.innerHTML="{{.settings.backupKeep.title}}:";var a=document.createElement("TD"),d=["5","10","20","30","40","50"],l=["5","10","20","30","40","50"],s=r.createSelect(d,l,c,i);s.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(s),n.appendChild(t),n.appendChild(a);break;case"buffer.size.kb":var t=document.createElement("TD");t.innerHTML="{{.settings.bufferSize.title}}:";var a=document.createElement("TD"),d=["0.5 MB","1 MB","2 MB","3 MB","4 MB","5 MB","6 MB","7 MB","8 MB"],l=["512","1024","2048","3072","4096","5120","6144","7168","8192"],s=r.createSelect(d,l,c,i);s.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(s),n.appendChild(t),n.appendChild(a);break;case"buffer":var t=document.createElement("TD");t.innerHTML="{{.settings.streamBuffering.title}}:";var a=document.createElement("TD"),d=["{{.settings.streamBuffering.info_false}}","xTeVe: ({{.settings.streamBuffering.info_xteve}})","FFmpeg: ({{.settings.streamBuffering.info_ffmpeg}})","VLC: ({{.settings.streamBuffering.info_vlc}})"],l=["-","xteve","ffmpeg","vlc"],s=r.createSelect(d,l,c,i);s.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(s),n.appendChild(t),n.appendChild(a);break;case"udpxy":var t=document.createElement("TD");t.innerHTML="{{.settings.udpxy.title}}:";var a=document.createElement("TD"),e=r.createInput("text","udpxy",c);e.setAttribute("placeholder","{{.settings.udpxy.placeholder}}"),e.setAttribute("onchange","javascript: this.className = 'changed'"),a.appendChild(e),n.appendChild(t),n.appendChild(a);break}return n}createDescription(i){var n=document.createElement("TR"),r;switch(i){case"authentication.web":r="{{.settings.authenticationWEB.description}}";break;case"authentication.m3u":r="{{.settings.authenticationM3U.description}}";break;case"authentication.pms":r="{{.settings.authenticationPMS.description}}";break;case"authentication.xml":r="{{.settings.authenticationXML.description}}";break;case"authentication.api":SERVER.settings["authentication.web"]==!0&&(r="{{.settings.authenticationAPI.description}}");break;case"xteveAutoUpdate":r="{{.settings.xteveAutoUpdate.description}}";break;case"backup.keep":r="{{.settings.backupKeep.description}}";break;case"backup.path":r="{{.settings.backupPath.description}}";break;case"temp.path":r="{{.settings.tempPath.description}}";break;case"buffer":r="{{.settings.streamBuffering.description}}";break;case"buffer.size.kb":r="{{.settings.bufferSize.description}}";break;case"buffer.timeout":r="{{.settings.bufferTimeout.description}}";break;case"user.agent":r="{{.settings.userAgent.description}}";break;case"ffmpeg.path":r="{{.settings.ffmpegPath.description}}";break;case"ffmpeg.options":r="{{.settings.ffmpegOptions.description}}";break;case"vlc.path":r="{{.settings.vlcPath.description}}";break;case"vlc.options":r="{{.settings.vlcOptions.description}}";break;case"epgSource":r="{{.settings.epgSource.description}}";break;case"tuner":r="{{.settings.tuner.description}}";break;case"update":r="{{.settings.update.description}}";break;case"api":r="{{.settings.api.description}}";break;case"files.update":r="{{.settings.filesUpdate.description}}";break;case"cache.images":r="{{.settings.cacheImages.description}}";break;case"xepg.replace.missing.images":r="{{.settings.replaceEmptyImages.description}}";break;case"udpxy":r="{{.settings.udpxy.description}}";break;default:r="";break}var c=document.createElement("TD");c.innerHTML="";var p=document.createElement("TD"),d=document.createElement("PRE");return d.innerHTML=r,p.appendChild(d),n.appendChild(c),n.appendChild(p),n}}class SettingsCategoryItem extends SettingsCategory{constructor(n,r){super();this.headline=n,this.settingsKeys=r}createCategory(){var n=this.createCategoryHeadline(this.headline),r=this.settingsKeys,c=document.getElementById(this.DocumentID);c.appendChild(n);var p=document.createElement("TABLE"),d=r.split(",");d.forEach(l=>{switch(l){case"authentication.pms":case"authentication.m3u":case"authentication.xml":case"authentication.api":if(SERVER.settings["authentication.web"]==!1)break;default:var s=this.createSettings(l),t=this.createDescription(l);p.appendChild(s),p.appendChild(t);break}}),c.appendChild(p),c.appendChild(this.createHR())}}function showSettings(){for(let h=0;h<settingsCategory.length;h++)settingsCategory[h].createCategory()}function saveSettings(){var h="saveSettings",i=document.getElementById("content_settings"),n=i.getElementsByClassName("changed"),r=new Object;for(let s=0;s<n.length;s++){var c,p;switch(n[s].tagName){case"INPUT":switch(n[s].type){case"checkbox":c=n[s].name,p=n[s].checked,r[c]=p;break;case"text":switch(c=n[s].name,p=n[s].value,c){case"update":p=p.split(","),p=p.filter(function(t){return t});break;case"buffer.timeout":p=parseFloat(p)}r[c]=p;break}break;case"SELECT":c=n[s].name,p=n[s].value,isNaN(p)?r[c]=p:r[c]=parseInt(p);break}}var d=new Object;d.settings=r;var l=new Server(h);l.request(d)}
